{"version":3,"sources":["vanage.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","Vanage","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","uuid","Service","Cache","undefined","create","settings","debug","generateId","./src/Cache","./src/Service","./src/utils/uuid","2","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","cachedSetTimeout","len","run","cachedClearTimeout","Item","fun","array","noop","process","setTimeout","clearTimeout","nextTick","args","Array","arguments","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","cwd","chdir","dir","umask","3","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","internals","dirty","value","get","entries","keys","4","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","constructor","setPrototypeOf","__proto__","ExtendableServiceError","_Error","message","_this","getPrototypeOf","captureStackTrace","stack","callee","ServiceError","_ExtendableServiceErr","5","equals","Pattern","identifier","base","id","foreign","index","replace","./utils/equal","./utils/uuid","6","_typeof","Symbol","iterator","obj","str","Errors","options","_internalId","Math","random","toString","slice","_history","_cache","_delegates","_handlers","_postConfigHook","ressource","handler","RegisterError","pattern","service","registry","set","signature","data","resolver","ActError","__delegate__","stamp","Date","now","forEach","delegation","match","delegate","bubbler","delegationData","origin","act","factory","result","DelegationError","./Cache","./Pattern","./utils/debug","./utils/errors","./utils/noop","./utils/stringify","7","enabled","console","bind","log","stdout","write","./noop","_process","8","isUndefinedOrNull","isBuffer","x","copy","objEquiv","b","opts","ka","kb","isArguments","pSlice","deepEqual","objectKeys","err","sort","actual","expected","getTime","strict","./isArguments","./keys","9","_ExtendableServiceErr2","_this2","_ExtendableServiceErr3","_this3","../Error","10","supported","object","unsupported","hasOwnProperty","propertyIsEnumerable","supportsArgumentsClass","11","shim","12","13","input","isArray","join","toISOString","JSON","stringify","14","guidBlock","floor","substring"],"mappings":"CAAA,SAAUA,GACN,GAAuB,gBAAZC,UAA0C,mBAAXC,QACtCA,OAAOD,QAAUD,QACd,IAAsB,kBAAXG,SAAyBA,OAAOC,IAC9CD,UAAWH,OACR,CACH,GAAIK,EAEAA,GADkB,mBAAXC,QACHA,OACqB,mBAAXC,QACVA,OACmB,mBAATC,MACVA,KAEAC,KAERJ,EAAEK,OAASV,MAEhB,WAEC,MAAO,SAAUW,GAAEC,EAAGC,EAAGC,GACrB,QAASC,GAAEC,EAAGC,GACV,IAAKJ,EAAEG,GAAI,CACP,IAAKJ,EAAEI,GAAI,CACP,GAAIE,GAAsB,kBAAXC,UAAyBA,OACxC,KAAKF,GAAKC,EAAG,MAAOA,GAAEF,GAAG,EACzB,IAAII,EAAG,MAAOA,GAAEJ,GAAG,EACnB,IAAIhB,GAAI,GAAIqB,OAAM,uBAAyBL,EAAI,IAC/C,MAAMhB,GAAEsB,KAAO,mBAAoBtB,EAEvC,GAAIuB,GAAIV,EAAEG,IACNf,WAEJW,GAAEI,GAAG,GAAGQ,KAAKD,EAAEtB,QAAS,SAASU,GAC7B,GAAIE,GAAID,EAAEI,GAAG,GAAGL,EAChB,OAAOI,GAAEF,EAAIA,EAAIF,IAClBY,EAAGA,EAAEtB,QAASU,EAAGC,EAAGC,EAAGC,GAE9B,MAAOD,GAAEG,GAAGf,QAGhB,IAAK,GADDmB,GAAsB,kBAAXD,UAAyBA,QAC/BH,EAAI,EAAGA,EAAIF,EAAEW,OAAQT,IAAKD,EAAED,EAAEE,GACvC,OAAOD,KAEPW,GAAI,SAASP,EAASjB,EAAQD,GAC1B,YAEA,IAAI0B,GAAOR,EAAQ,oBACfS,EAAUT,EAAQ,iBAClBU,EAAQV,EAAQ,cAEpBjB,GAAOD,QAAU,SAAS6B,GACtB,OACID,MAAOA,EACPD,QAASA,EACTG,OAAQ,SAAgBC,GAKpB,MAJAA,GAAWA,IACPC,OAAO,GAGJ,GAAIL,GAAQI,IAEvBE,WAAYP,QAKpBQ,cAAe,EACfC,gBAAiB,EACjBC,mBAAoB,KAExBC,GAAI,SAASnB,EAASjB,EAAQD,GAkC1B,QAASsC,KACAC,GAAaC,IAGlBD,GAAW,EACPC,EAAahB,OACbiB,EAAQD,EAAaE,OAAOD,GAE5BE,KAEAF,EAAMjB,QACNoB,KAIR,QAASA,KACL,IAAIL,EAAJ,CAGA,GAAIM,GAAUC,EAAiBR,EAC/BC,IAAW,CAGX,KADA,GAAIQ,GAAMN,EAAMjB,OACTuB,GAAK,CAGR,IAFAP,EAAeC,EACfA,OACSE,EAAaI,GACdP,GACAA,EAAaG,GAAYK,KAGjCL,MACAI,EAAMN,EAAMjB,OAEhBgB,EAAe,KACfD,GAAW,EACXU,EAAmBJ,IAiBvB,QAASK,GAAKC,EAAKC,GACf5C,KAAK2C,IAAMA,EACX3C,KAAK4C,MAAQA,EAYjB,QAASC,MAlGT,GAOIP,GACAG,EARAK,EAAUrD,EAAOD,YAUpB,WACG,IACI8C,EAAmBS,WACrB,MAAO7C,GACLoC,EAAmB,WACf,KAAM,IAAI1B,OAAM,8BAGxB,IACI6B,EAAqBO,aACvB,MAAO9C,GACLuC,EAAqB,WACjB,KAAM,IAAI7B,OAAM,mCAI5B,IAEIoB,GAFAC,KACAF,GAAW,EAEXI,IAyCJW,GAAQG,SAAW,SAASN,GACxB,GAAIO,GAAO,GAAIC,OAAMC,UAAUpC,OAAS,EACxC,IAAIoC,UAAUpC,OAAS,EACnB,IAAK,GAAIL,GAAI,EAAGA,EAAIyC,UAAUpC,OAAQL,IAClCuC,EAAKvC,EAAI,GAAKyC,UAAUzC,EAGhCsB,GAAMoB,KAAK,GAAIX,GAAKC,EAAKO,IACJ,IAAjBjB,EAAMjB,QAAiBe,GACvBO,EAAiBF,EAAY,IASrCM,EAAKY,UAAUd,IAAM,WACjBxC,KAAK2C,IAAIY,MAAM,KAAMvD,KAAK4C,QAE9BE,EAAQU,MAAQ,UAChBV,EAAQW,SAAU,EAClBX,EAAQY,OACRZ,EAAQa,QACRb,EAAQc,QAAU,GAClBd,EAAQe,YAIRf,EAAQgB,GAAKjB,EACbC,EAAQiB,YAAclB,EACtBC,EAAQkB,KAAOnB,EACfC,EAAQmB,IAAMpB,EACdC,EAAQoB,eAAiBrB,EACzBC,EAAQqB,mBAAqBtB,EAC7BC,EAAQsB,KAAOvB,EAEfC,EAAQuB,QAAU,SAASC,GACvB,KAAM,IAAI1D,OAAM,qCAGpBkC,EAAQyB,IAAM,WACV,MAAO,KAEXzB,EAAQ0B,MAAQ,SAASC,GACrB,KAAM,IAAI7D,OAAM,mCAEpBkC,EAAQ4B,MAAQ,WACZ,MAAO,SAIfC,GAAI,SAASjE,EAASjB,EAAQD,GAC1B,YAmBA,SAASoF,GAAgBC,EAAUC,GAC/B,KAAMD,YAAoBC,IACtB,KAAM,IAAIC,WAAU,qCAnB5B,GAAIC,GAAe,WACf,QAASC,GAAiBC,EAAQC,GAC9B,IAAK,GAAIxE,GAAI,EAAGA,EAAIwE,EAAMnE,OAAQL,IAAK,CACnC,GAAIyE,GAAaD,EAAMxE,EACvByE,GAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,SAAWF,KAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAeP,EAAQE,EAAWM,IAAKN,IAGtD,MAAO,UAASN,EAAaa,EAAYC,GAGrC,MAFID,IAAYV,EAAiBH,EAAYxB,UAAWqC,GACpDC,GAAaX,EAAiBH,EAAac,GACxCd,MAUX1D,EAAQ,WACR,QAASA,KACLwD,EAAgB5E,KAAMoB,GAEtBpB,KAAK6F,aACL7F,KAAK8F,OAAQ,EAyCjB,MAtCAd,GAAa5D,IACTsE,IAAK,MACLK,MAAO,SAAaL,EAAKK,GACrB/F,KAAK6F,UAAUH,GAAOK,EACtB/F,KAAK8F,OAAQ,KAGjBJ,IAAK,MACLK,MAAO,SAAaL,GAChB,MAAO1F,MAAK6F,UAAUH,MAG1BA,IAAK,QACLK,MAAO,WACH/F,KAAK6F,gBAGTH,IAAK,OACLK,MAAO,WACH,MAAO/F,MAAK6F,aAGhBH,IAAK,UACLK,MAAO,WACH,MAAO/F,MAAK8F,SAGhBJ,IAAK,OACLM,IAAK,WACD,MAAOhG,MAAKiG,QAAQjF,UAGxB0E,IAAK,UACLM,IAAK,WACD,MAAOR,QAAOU,KAAKlG,KAAK6F,eAIzBzE,IAGX3B,GAAOD,QAAU4B,OAGrB+E,GAAI,SAASzF,EAASjB,EAAQD,GAC1B,YAmBA,SAASoF,GAAgBC,EAAUC,GAC/B,KAAMD,YAAoBC,IACtB,KAAM,IAAIC,WAAU,qCAI5B,QAASqB,GAA2BrG,EAAMgB,GACtC,IAAKhB,EACD,KAAM,IAAIsG,gBAAe,4DAE7B,QAAOtF,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BhB,EAAPgB,EAG9E,QAASuF,GAAUC,EAAUC,GACzB,GAA0B,kBAAfA,IAA4C,OAAfA,EACpC,KAAM,IAAIzB,WAAU,iEAAoEyB,GAE5FD,GAASjD,UAAYkC,OAAOlE,OAAOkF,GAAcA,EAAWlD,WACxDmD,aACIV,MAAOQ,EACPlB,YAAY,EACZE,UAAU,EACVD,cAAc,KAGlBkB,IAAYhB,OAAOkB,eAAiBlB,OAAOkB,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GA1C/G,GAAIxB,GAAe,WACf,QAASC,GAAiBC,EAAQC,GAC9B,IAAK,GAAIxE,GAAI,EAAGA,EAAIwE,EAAMnE,OAAQL,IAAK,CACnC,GAAIyE,GAAaD,EAAMxE,EACvByE,GAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,SAAWF,KAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAeP,EAAQE,EAAWM,IAAKN,IAGtD,MAAO,UAASN,EAAaa,EAAYC,GAGrC,MAFID,IAAYV,EAAiBH,EAAYxB,UAAWqC,GACpDC,GAAaX,EAAiBH,EAAac,GACxCd,MAgCX8B,EAAyB,SAASC,GAGlC,QAASD,GAAuBE,GAC5BlC,EAAgB5E,KAAM4G,EAEtB,IAAIG,GAAQX,EAA2BpG,KAAMwF,OAAOwB,eAAeJ,GAAwB7F,KAAKf,KAAM8G,GAUtG,OARAC,GAAMzC,KAAOyC,EAAMN,YAAYnC,KAC/ByC,EAAMD,QAAUA,EAEuB,kBAA5BlG,OAAMqG,kBACbrG,MAAMqG,kBAAkBF,EAAOA,EAAMN,aAErCM,EAAMG,MAAQ,GAAItG,OAAMkG,GAASI,MAE9BH,EAUX,MAzBAT,GAAUM,EAAwBC,GAkBlC7B,EAAa4B,IACTlB,IAAK,YACLK,MAAO,SAAmBoB,GACtBnH,KAAKmH,OAASA,MAIfP,GACThG,OAEEwG,EAAe,SAASC,GAGxB,QAASD,GAAaN,GAGlB,MAFAlC,GAAgB5E,KAAMoH,GAEfhB,EAA2BpG,KAAMwF,OAAOwB,eAAeI,GAAcrG,KAAKf,KAAM8G,IAG3F,MARAR,GAAUc,EAAcC,GAQjBD,GACTR,EAEFpH,GAAQoH,uBAAyBA,EACjCpH,EAAQ4H,aAAeA,OAG3BE,GAAI,SAAS5G,EAASjB,EAAQD,GAC1B,YAmBA,SAASoF,GAAgBC,EAAUC,GAC/B,KAAMD,YAAoBC,IACtB,KAAM,IAAIC,WAAU,qCAnB5B,GAAIC,GAAe,WACf,QAASC,GAAiBC,EAAQC,GAC9B,IAAK,GAAIxE,GAAI,EAAGA,EAAIwE,EAAMnE,OAAQL,IAAK,CACnC,GAAIyE,GAAaD,EAAMxE,EACvByE,GAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,SAAWF,KAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAeP,EAAQE,EAAWM,IAAKN,IAGtD,MAAO,UAASN,EAAaa,EAAYC,GAGrC,MAFID,IAAYV,EAAiBH,EAAYxB,UAAWqC,GACpDC,GAAaX,EAAiBH,EAAac,GACxCd,MAUXyC,EAAS7G,EAAQ,iBACjBQ,EAAOR,EAAQ,gBAEf8G,EAAU,WACV,QAASA,GAAQC,GACb7C,EAAgB5E,KAAMwH,GAEtBxH,KAAK0H,KAAOD,EACZzH,KAAK2H,GAAKzG,IAgCd,MA7BA8D,GAAawC,IACT9B,IAAK,QACLK,MAAO,SAAe6B,GAClB,MAAOL,GAAOvH,KAAK0H,KAAME,MAG7BlC,IAAK,YACLK,MAAO,WACH,GAAI/E,GAAShB,KAAKkG,KAAKlF,OAEnB6G,EAAQ,EACRF,EAAK,EAET,KAAK,GAAIjC,KAAO1F,MAAK0H,KACjBC,GAAgB,IAAVE,EAAc,GAAK,IACzBF,GAAMjC,EAAM,IAAM1F,KAAK0H,KAAKhC,GAC5BmC,GAIJ,OADAF,IAAM,IAAM3H,KAAK2H,GAAGG,QAAQ,KAAM,IAAM,IAAM9G,KAIlD0E,IAAK,OACLM,IAAK,WACD,MAAOR,QAAOU,KAAKlG,KAAK0H,UAIzBF,IAGX/H,GAAOD,QAAUgI,IAGjBO,gBAAiB,EACjBC,eAAgB,KAEpBC,GAAI,SAASvH,EAASjB,EAAQD,GAC1B,YAyBA,SAASoF,GAAgBC,EAAUC,GAC/B,KAAMD,YAAoBC,IACtB,KAAM,IAAIC,WAAU,qCAzB5B,GAAImD,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAASC,GACzF,aAAcA,IACd,SAASA,GACT,MAAOA,IAAyB,kBAAXF,SAAyBE,EAAI5B,cAAgB0B,OAAS,eAAkBE,IAG7FrD,EAAe,WACf,QAASC,GAAiBC,EAAQC,GAC9B,IAAK,GAAIxE,GAAI,EAAGA,EAAIwE,EAAMnE,OAAQL,IAAK,CACnC,GAAIyE,GAAaD,EAAMxE,EACvByE,GAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,SAAWF,KAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAeP,EAAQE,EAAWM,IAAKN,IAGtD,MAAO,UAASN,EAAaa,EAAYC,GAGrC,MAFID,IAAYV,EAAiBH,EAAYxB,UAAWqC,GACpDC,GAAaX,EAAiBH,EAAac,GACxCd,MAUX5D,EAAOR,EAAQ,gBACfmC,EAAOnC,EAAQ,gBACfc,EAAQd,EAAQ,iBAChB4H,EAAM5H,EAAQ,qBACd6H,EAAS7H,EAAQ,kBACjBU,EAAQV,EAAQ,WAChB8G,EAAU9G,EAAQ,aAElBS,EAAU,WACV,QAASA,GAAQqH,GACb5D,EAAgB5E,KAAMmB,GAEtBnB,KAAKwI,QAAUA,MACfxI,KAAK2H,GAAKa,EAAQf,YAAcvG,IAChClB,KAAKwB,MAAQqB,EAEb7C,KAAKyI,YAAcC,KAAKC,SAASC,SAAS,IAAIC,WAC9C7I,KAAK8I,SAAW,GAAI1H,GACpBpB,KAAK+I,OAAS,GAAI3H,GAClBpB,KAAKgJ,cACLhJ,KAAKiJ,aA2HT,MAxHAjE,GAAa7D,IACTuE,IAAK,YACLK,MAAO,SAAmByC,GACtB,GAA0E,YAAlD,mBAAZA,GAA0B,YAAcN,EAAQM,IACxD,IAAK,GAAI9C,KAAO8C,GACZxI,KAAKwI,QAAQ9C,GAAO8C,EAAQ9C,EAIpC1F,MAAKkJ,qBAGTxD,IAAK,MACLK,MAAO,SAAaL,EAAKK,GACrB/F,KAAKwI,QAAQ9C,GAAOK,EACpB/F,KAAKkJ,qBAGTxD,IAAK,WACLK,MAAO,SAAkBoD,EAAWC,GAChC,GAAIrJ,GAAOC,IAGX,IAFAA,KAAKwB,MAAM,gCAAiC8G,EAAIa,IAE8B,YAApD,mBAAdA,GAA4B,YAAcjB,EAAQiB,IAC1D,KAAM,IAAIZ,GAAOc,cAAc,mDAA0E,mBAAdF,GAA4B,YAAcjB,EAAQiB,IAGjJ,IAAItB,GAAQ7H,KAAKiJ,UAAU5F,MACvBiG,QAAS,GAAI9B,GAAQ2B,GACrBC,QAASA,EACTG,QAASxJ,EAAK0I,cAGde,EAAWxJ,KAAKiJ,UAAUpB,EAAQ,EACtC7H,MAAK+I,OAAOU,IAAID,EAASF,QAAQI,YAAaF,MAGlD9D,IAAK,MACLK,MAAO,SAAab,EAAQyE,EAAMC,GAC9B,GAAI7J,GAAOC,IAKX,IAHA2J,EAAOA,MACPC,EAA+B,kBAAbA,GAA0BA,EAAW/G,GAElDqC,EACD,KAAM,IAAIqD,GAAOsB,SAAS,oCAG9B7J,MAAKwB,MAAM,yBAA0BmI,EAAKG,aAAe,oBAAsB,SAAUxB,EAAIpD,GAASoD,EAAIqB,IAC1G3J,KAAK8I,SAASW,IAAI,GAAIjC,GAAQtC,GAAQwE,aAClCC,KAAMA,EACNI,MAAOC,KAAKC,MACZ/E,OAAQA,EACR0E,SAAUA,IAGd5J,KAAKgJ,WAAWkB,QAAQ,SAASC,GACzBA,EAAWb,QAAQc,MAAMlF,KACzBnF,EAAKyB,MAAM,0BAA2B8G,EAAIpD,IAC1CiF,EAAWE,SAAS9G,MAAM,MAAO,SAAS+G,EAASC,GACyC,YAAzD,mBAAnBA,GAAiC,YAAcrC,EAAQqC,IAC/DA,EAAiBZ,EAEjBY,EAAeC,OAASb,EAG5B5J,EAAKyB,MAAM,2BAA4B8G,EAAIpD,GAASoD,EAAIgC,IACxDC,EAAeT,aAAe5E,EAC9BnF,EAAK0K,IAAIH,EAASC,EAAgBX,SAK9C5J,KAAKiJ,UAAUiB,QAAQ,SAASQ,GACxBA,EAAQpB,QAAQc,MAAMlF,IACtBwF,EAAQtB,QAAQ7F,MAAM,MAAOoG,EAAM,SAASpB,EAAQoC,GAEhD,MADA5K,GAAKyB,MAAM,mCAAoC8G,EAAIpD,GAASoD,EAAIqB,IACzDC,EAASrG,MAAM,MAAOgF,EAAQoC,EAAQ,SAASN,EAAUE,GAC4B,YAAzD,mBAAnBA,GAAiC,YAAcrC,EAAQqC,MAC/DA,MAGJA,EAAeT,aAAe5E,EAC9BqF,EAAeC,OAASb,EACxB5J,EAAK0K,IAAIJ,EAAUE,cAOvC7E,IAAK,WACLK,MAAO,SAAkBoD,EAAWgB,GAChC,GAAIpK,GAAOC,IAGX,IAFAA,KAAKwB,MAAM,8BAA+B8G,EAAIa,IAEgC,YAApD,mBAAdA,GAA4B,YAAcjB,EAAQiB,IAC1D,KAAM,IAAIZ,GAAOqC,gBAAgB,mDAA0E,mBAAdzB,GAA4B,YAAcjB,EAAQiB,IAGnJ,IAA0B,kBAAfgB,GACP,KAAM,IAAI5B,GAAOqC,gBAAgB,qDAA6E,mBAAfT,GAA6B,YAAcjC,EAAQiC,IAGtJ,IAAItC,GAAQ7H,KAAKgJ,WAAW3F,MACxBiG,QAAS,GAAI9B,GAAQ2B,GACrBkB,SAAUF,EACVZ,QAASxJ,EAAK0I,cAGde,EAAWxJ,KAAKgJ,WAAWnB,EAAQ,EACvC7H,MAAK+I,OAAOU,IAAID,EAASF,QAAQI,YAAaF,MAGlD9D,IAAK,kBACLK,MAAO,WACH/F,KAAKwB,MAAQA,EAAMxB,KAAKwI,QAAQhH,WAIjCL,IAGX1B,GAAOD,QAAU2B,IAGjB0J,UAAW,EACXC,YAAa,EACbC,gBAAiB,EACjBC,iBAAkB,EAClBC,eAAgB,GAChBC,oBAAqB,GACrBlD,eAAgB,KAEpBmD,GAAI,SAASzK,EAASjB,EAAQD,IAC1B,SAAUsD,GACN,YAEA,IAAIoF,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAASC,GACzF,aAAcA,IACd,SAASA,GACT,MAAOA,IAAyB,kBAAXF,SAAyBE,EAAI5B,cAAgB0B,OAAS,eAAkBE,IAG7FxF,EAAOnC,EAAQ,SAEnBjB,GAAOD,QAAU,SAAS4L,GACtB,GAAIA,GAC0E/J,UAAlD,mBAAZgK,SAA0B,YAAcnD,EAAQmD,UAAyB,CACjF,GAA6B,kBAAlBA,SAAQ7J,MACf,MAAO6J,SAAQ7J,MAAM8J,KAAKD,QACvB,IAA2B,kBAAhBA,SAAQE,IACtB,MAAOF,SAAQE,IAAID,KAAKD,QACrB,IAAIvI,GAA2C,kBAAzBA,GAAQ0I,OAAOC,MACxC,MAAO3I,GAAQ0I,OAAOC,MAAMH,KAAKxI,GAK7C,MAAOD,MAGZ9B,KAAKf,KAAMU,EAAQ,eAEtBgL,SAAU,GACVC,SAAY,IAEhBC,GAAI,SAASlL,EAASjB,EAAQD,GAC1B,YAqCA,SAASqM,GAAkB9F,GACvB,MAAiB,QAAVA,GAA4B1E,SAAV0E,EAG7B,QAAS+F,GAASC,GACd,SAAKA,GAA+D,YAA5C,mBAANA,GAAoB,YAAc7D,EAAQ6D,KAAwC,gBAAbA,GAAE/K,UAInE,kBAAX+K,GAAEC,MAA0C,kBAAZD,GAAElD,SAIzCkD,EAAE/K,OAAS,GAAqB,gBAAT+K,GAAE,KAOjC,QAASE,GAASxL,EAAGyL,EAAGC,GACpB,GAAIxL,GAAI,OACJ+E,EAAM,OACN0G,EAAK,OACLC,EAAK,MAET,IAAIR,EAAkBpL,IAAMoL,EAAkBK,GAC1C,OAAO,CAGX,IAAIzL,EAAE6C,YAAc4I,EAAE5I,UAClB,OAAO,CAGX,IAAIgJ,EAAY7L,GACZ,QAAK6L,EAAYJ,KAIjBzL,EAAI8L,EAAOxL,KAAKN,GAChByL,EAAIK,EAAOxL,KAAKmL,GAETM,EAAU/L,EAAGyL,EAAGC,GAE3B,IAAIL,EAASrL,GAAI,CACb,IAAKqL,EAASI,GACV,OAAO,CAGX,IAAIzL,EAAEO,SAAWkL,EAAElL,OACf,OAAO,CAGX,KAAKL,EAAI,EAAGA,EAAIF,EAAEO,OAAQL,IACtB,GAAIF,EAAEE,KAAOuL,EAAEvL,GACX,OAAO,CAIf,QAAO,EAEX,IACIyL,EAAKK,EAAWhM,GAChB4L,EAAKI,EAAWP,GAClB,MAAOQ,GAEL,OAAO,EAIX,GAAIN,EAAGpL,QAAUqL,EAAGrL,OAChB,OAAO,CAOX,KAHAoL,EAAGO,OACHN,EAAGM,OAEEhM,EAAIyL,EAAGpL,OAAS,EAAGL,GAAK,EAAGA,IAC5B,GAAIyL,EAAGzL,IAAM0L,EAAG1L,GACZ,OAAO,CAKf,KAAKA,EAAIyL,EAAGpL,OAAS,EAAGL,GAAK,EAAGA,IAG5B,GAFA+E,EAAM0G,EAAGzL,IAEJ6L,EAAU/L,EAAEiF,GAAMwG,EAAExG,GAAMyG,GAC3B,OAAO,CAIf,QAAqB,mBAAN1L,GAAoB,YAAcyH,EAAQzH,OAAsB,mBAANyL,GAAoB,YAAchE,EAAQgE,IAhIvH,GAAIhE,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAASC,GACzF,aAAcA,IACd,SAASA,GACT,MAAOA,IAAyB,kBAAXF,SAAyBE,EAAI5B,cAAgB0B,OAAS,eAAkBE,IAG7FkE,EAASpJ,MAAMG,UAAUuF,MACzB4D,EAAa/L,EAAQ,UACrB4L,EAAc5L,EAAQ,iBAEtB8L,EAAY/M,EAAOD,QAAU,SAASoN,EAAQC,EAAUV,GAIxD,MAHAA,GAAOA,MAGHS,IAAWC,IAEJD,YAAkB5C,OAAQ6C,YAAoB7C,MAC9C4C,EAAOE,YAAcD,EAASC,WAI7BF,IAAWC,GAA+E,WAAhD,mBAAXD,GAAyB,YAAc1E,EAAQ0E,KAA+F,WAAlD,mBAAbC,GAA2B,YAAc3E,EAAQ2E,IAChKV,EAAKY,OAASH,IAAWC,EAAWD,GAAUC,EAS9CZ,EAASW,EAAQC,EAAUV,OAqG1Ca,gBAAiB,GACjBC,SAAU,KAEdC,GAAI,SAASxM,EAASjB,EAAQD,GAC1B,YAEA,SAASoF,GAAgBC,EAAUC,GAC/B,KAAMD,YAAoBC,IACtB,KAAM,IAAIC,WAAU,qCAI5B,QAASqB,GAA2BrG,EAAMgB,GACtC,IAAKhB,EACD,KAAM,IAAIsG,gBAAe,4DAE7B,QAAOtF,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BhB,EAAPgB,EAG9E,QAASuF,GAAUC,EAAUC,GACzB,GAA0B,kBAAfA,IAA4C,OAAfA,EACpC,KAAM,IAAIzB,WAAU,iEAAoEyB,GAE5FD,GAASjD,UAAYkC,OAAOlE,OAAOkF,GAAcA,EAAWlD,WACxDmD,aACIV,MAAOQ,EACPlB,YAAY,EACZE,UAAU,EACVD,cAAc,KAGlBkB,IAAYhB,OAAOkB,eAAiBlB,OAAOkB,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GAG/G,GAAII,GAAyBlG,EAAQ,YAAYkG,uBAE7CgE,EAAkB,SAASvD,GAG3B,QAASuD,GAAgB9D,GACrBlC,EAAgB5E,KAAM4K,EAEtB,IAAI7D,GAAQX,EAA2BpG,KAAMwF,OAAOwB,eAAe4D,GAAiB7J,KAAKf,KAAM8G,GAI/F,OAFAC,GAAMzC,KAAO,kBACbyC,EAAMI,OAAS,mBACRJ,EAGX,MAZAT,GAAUsE,EAAiBvD,GAYpBuD,GACThE,GAEEiD,EAAW,SAASsD,GAGpB,QAAStD,GAAS/C,GACdlC,EAAgB5E,KAAM6J,EAEtB,IAAIuD,GAAShH,EAA2BpG,KAAMwF,OAAOwB,eAAe6C,GAAU9I,KAAKf,KAAM8G,GAIzF,OAFAsG,GAAO9I,KAAO,WACd8I,EAAOjG,OAAS,cACTiG,EAGX,MAZA9G,GAAUuD,EAAUsD,GAYbtD,GACTjD,GAEEyC,EAAgB,SAASgE,GAGzB,QAAShE,GAAcvC,GACnBlC,EAAgB5E,KAAMqJ,EAEtB,IAAIiE,GAASlH,EAA2BpG,KAAMwF,OAAOwB,eAAeqC,GAAetI,KAAKf,KAAM8G,GAI9F,OAFAwG,GAAOhJ,KAAO,gBACdgJ,EAAOnG,OAAS,mBACTmG,EAGX,MAZAhH,GAAU+C,EAAegE,GAYlBhE,GACTzC,EAEFpH,GAAQoL,gBAAkBA,EAC1BpL,EAAQqK,SAAWA,EACnBrK,EAAQ6J,cAAgBA,IAGxBkE,WAAY,IAEhBC,IAAK,SAAS9M,EAASjB,EAAQD,GAC3B,YAgBA,SAASiO,GAAUC,GACf,MAAiD,sBAA1ClI,OAAOlC,UAAUsF,SAAS7H,KAAK2M,GAK1C,QAASC,GAAYD,GACjB,MAAOA,IAA6E,WAAhD,mBAAXA,GAAyB,YAAcxF,EAAQwF,KAAgD,gBAAjBA,GAAO1M,QAAsBwE,OAAOlC,UAAUsK,eAAe7M,KAAK2M,EAAQ,YAAclI,OAAOlC,UAAUuK,qBAAqB9M,KAAK2M,EAAQ,YAAa,EArBnQ,GAAIxF,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAASC,GACzF,aAAcA,IACd,SAASA,GACT,MAAOA,IAAyB,kBAAXF,SAAyBE,EAAI5B,cAAgB0B,OAAS,eAAkBE,IAG7FyF,EAEG,sBAFsB,SAASzM,GAClC,MAAOmE,QAAOlC,UAAUsF,SAAS7H,KAAKqC,aAG1C3D,GAAOD,QAAUsO,EAAyBL,EAAYE,EAEtDnO,EAAQiO,UAAYA,EAMpBjO,EAAQmO,YAAcA,OAO1BI,IAAK,SAASrN,EAASjB,EAAQD,GAC3B,YAYA,SAASwO,GAAK3F,GACV,GAAInC,KAEJ,KAAK,GAAIR,KAAO2C,GACZnC,EAAK7C,KAAKqC,EAGd,OAAOQ,GAjBX1G,EAAUC,EAAOD,QAAU,SAAS6B,GAChC,MAA2B,kBAAhBmE,QAAOU,KACPV,OAAOU,KAGX8H,KAGXxO,EAAQwO,KAAOA,OAanBC,IAAK,SAASvN,EAASjB,EAAQD,GAC3B,YAEAC,GAAOD,QAAU,kBAGrB0O,IAAK,SAASxN,EAASjB,EAAQD,GAC3B,YAEAC,GAAOD,QAAU,SAAS2O,GACtB,MAAqB,gBAAVA,GACAA,EACAhL,MAAMiL,QAAQD,GACdA,EAAME,KAAK,MACWhN,SAAtB8M,EAAMG,YACNH,EAAMG,cAGVC,KAAKC,UAAUL,SAI9BM,IAAK,SAAS/N,EAASjB,EAAQD,GAC3B,YAEA,IAAIkP,GAAY,WACZ,MAAOhG,MAAKiG,MAA4B,OAArB,EAAIjG,KAAKC,WAAqBC,SAAS,IAAIgG,UAAU,GAG5EnP,GAAOD,QAAU,WACb,MAAOkP,KAAcA,IAAc,IAAMA,IAAc,IAAMA,IAAc,IAAMA,IAAc,IAAMA,IAAcA,IAAcA,eAIrI,IAAI","file":"vanage.min.js","sourcesContent":["(function(f) {\n    if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n        module.exports = f()\n    } else if (typeof define === \"function\" && define.amd) {\n        define([], f)\n    } else {\n        var g;\n        if (typeof window !== \"undefined\") {\n            g = window\n        } else if (typeof global !== \"undefined\") {\n            g = global\n        } else if (typeof self !== \"undefined\") {\n            g = self\n        } else {\n            g = this\n        }\n        g.Vanage = f()\n    }\n})(function() {\n    var define, module, exports;\n    return (function e(t, n, r) {\n        function s(o, u) {\n            if (!n[o]) {\n                if (!t[o]) {\n                    var a = typeof require == \"function\" && require;\n                    if (!u && a) return a(o, !0);\n                    if (i) return i(o, !0);\n                    var f = new Error(\"Cannot find module '\" + o + \"'\");\n                    throw f.code = \"MODULE_NOT_FOUND\", f\n                }\n                var l = n[o] = {\n                    exports: {}\n                };\n                t[o][0].call(l.exports, function(e) {\n                    var n = t[o][1][e];\n                    return s(n ? n : e)\n                }, l, l.exports, e, t, n, r)\n            }\n            return n[o].exports\n        }\n        var i = typeof require == \"function\" && require;\n        for (var o = 0; o < r.length; o++) s(r[o]);\n        return s\n    })({\n        1: [function(require, module, exports) {\n            'use strict';\n\n            var uuid = require('./src/utils/uuid');\n            var Service = require('./src/Service');\n            var Cache = require('./src/Cache');\n\n            module.exports = function(undefined) {\n                return {\n                    Cache: Cache,\n                    Service: Service,\n                    create: function create(settings) {\n                        settings = settings || {\n                            debug: false\n                        };\n\n                        return new Service(settings);\n                    },\n                    generateId: uuid\n                };\n            }();\n\n        }, {\n            \"./src/Cache\": 3,\n            \"./src/Service\": 6,\n            \"./src/utils/uuid\": 14\n        }],\n        2: [function(require, module, exports) {\n            // shim for using process in browser\n\n            var process = module.exports = {};\n\n            // cached from whatever global is present so that test runners that stub it\n            // don't break things.  But we need to wrap it in a try catch in case it is\n            // wrapped in strict mode code which doesn't define any globals.  It's inside a\n            // function because try/catches deoptimize in certain engines.\n\n            var cachedSetTimeout;\n            var cachedClearTimeout;\n\n            (function() {\n                try {\n                    cachedSetTimeout = setTimeout;\n                } catch (e) {\n                    cachedSetTimeout = function() {\n                        throw new Error('setTimeout is not defined');\n                    }\n                }\n                try {\n                    cachedClearTimeout = clearTimeout;\n                } catch (e) {\n                    cachedClearTimeout = function() {\n                        throw new Error('clearTimeout is not defined');\n                    }\n                }\n            }())\n            var queue = [];\n            var draining = false;\n            var currentQueue;\n            var queueIndex = -1;\n\n            function cleanUpNextTick() {\n                if (!draining || !currentQueue) {\n                    return;\n                }\n                draining = false;\n                if (currentQueue.length) {\n                    queue = currentQueue.concat(queue);\n                } else {\n                    queueIndex = -1;\n                }\n                if (queue.length) {\n                    drainQueue();\n                }\n            }\n\n            function drainQueue() {\n                if (draining) {\n                    return;\n                }\n                var timeout = cachedSetTimeout(cleanUpNextTick);\n                draining = true;\n\n                var len = queue.length;\n                while (len) {\n                    currentQueue = queue;\n                    queue = [];\n                    while (++queueIndex < len) {\n                        if (currentQueue) {\n                            currentQueue[queueIndex].run();\n                        }\n                    }\n                    queueIndex = -1;\n                    len = queue.length;\n                }\n                currentQueue = null;\n                draining = false;\n                cachedClearTimeout(timeout);\n            }\n\n            process.nextTick = function(fun) {\n                var args = new Array(arguments.length - 1);\n                if (arguments.length > 1) {\n                    for (var i = 1; i < arguments.length; i++) {\n                        args[i - 1] = arguments[i];\n                    }\n                }\n                queue.push(new Item(fun, args));\n                if (queue.length === 1 && !draining) {\n                    cachedSetTimeout(drainQueue, 0);\n                }\n            };\n\n            // v8 likes predictible objects\n            function Item(fun, array) {\n                this.fun = fun;\n                this.array = array;\n            }\n            Item.prototype.run = function() {\n                this.fun.apply(null, this.array);\n            };\n            process.title = 'browser';\n            process.browser = true;\n            process.env = {};\n            process.argv = [];\n            process.version = ''; // empty string to avoid regexp issues\n            process.versions = {};\n\n            function noop() {}\n\n            process.on = noop;\n            process.addListener = noop;\n            process.once = noop;\n            process.off = noop;\n            process.removeListener = noop;\n            process.removeAllListeners = noop;\n            process.emit = noop;\n\n            process.binding = function(name) {\n                throw new Error('process.binding is not supported');\n            };\n\n            process.cwd = function() {\n                return '/'\n            };\n            process.chdir = function(dir) {\n                throw new Error('process.chdir is not supported');\n            };\n            process.umask = function() {\n                return 0;\n            };\n\n        }, {}],\n        3: [function(require, module, exports) {\n            'use strict';\n\n            var _createClass = function() {\n                function defineProperties(target, props) {\n                    for (var i = 0; i < props.length; i++) {\n                        var descriptor = props[i];\n                        descriptor.enumerable = descriptor.enumerable || false;\n                        descriptor.configurable = true;\n                        if (\"value\" in descriptor) descriptor.writable = true;\n                        Object.defineProperty(target, descriptor.key, descriptor);\n                    }\n                }\n                return function(Constructor, protoProps, staticProps) {\n                    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                    if (staticProps) defineProperties(Constructor, staticProps);\n                    return Constructor;\n                };\n            }();\n\n            function _classCallCheck(instance, Constructor) {\n                if (!(instance instanceof Constructor)) {\n                    throw new TypeError(\"Cannot call a class as a function\");\n                }\n            }\n\n            var Cache = function() {\n                function Cache() {\n                    _classCallCheck(this, Cache);\n\n                    this.internals = {};\n                    this.dirty = false;\n                }\n\n                _createClass(Cache, [{\n                    key: 'set',\n                    value: function set(key, value) {\n                        this.internals[key] = value;\n                        this.dirty = true;\n                    }\n                }, {\n                    key: 'get',\n                    value: function get(key) {\n                        return this.internals[key];\n                    }\n                }, {\n                    key: 'flush',\n                    value: function flush() {\n                        this.internals = {};\n                    }\n                }, {\n                    key: 'dump',\n                    value: function dump() {\n                        return this.internals;\n                    }\n                }, {\n                    key: 'isDirty',\n                    value: function isDirty() {\n                        return this.dirty;\n                    }\n                }, {\n                    key: 'size',\n                    get: function get() {\n                        return this.entries.length;\n                    }\n                }, {\n                    key: 'entries',\n                    get: function get() {\n                        return Object.keys(this.internals);\n                    }\n                }]);\n\n                return Cache;\n            }();\n\n            module.exports = Cache;\n\n        }, {}],\n        4: [function(require, module, exports) {\n            'use strict';\n\n            var _createClass = function() {\n                function defineProperties(target, props) {\n                    for (var i = 0; i < props.length; i++) {\n                        var descriptor = props[i];\n                        descriptor.enumerable = descriptor.enumerable || false;\n                        descriptor.configurable = true;\n                        if (\"value\" in descriptor) descriptor.writable = true;\n                        Object.defineProperty(target, descriptor.key, descriptor);\n                    }\n                }\n                return function(Constructor, protoProps, staticProps) {\n                    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                    if (staticProps) defineProperties(Constructor, staticProps);\n                    return Constructor;\n                };\n            }();\n\n            function _classCallCheck(instance, Constructor) {\n                if (!(instance instanceof Constructor)) {\n                    throw new TypeError(\"Cannot call a class as a function\");\n                }\n            }\n\n            function _possibleConstructorReturn(self, call) {\n                if (!self) {\n                    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n                }\n                return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n            }\n\n            function _inherits(subClass, superClass) {\n                if (typeof superClass !== \"function\" && superClass !== null) {\n                    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n                }\n                subClass.prototype = Object.create(superClass && superClass.prototype, {\n                    constructor: {\n                        value: subClass,\n                        enumerable: false,\n                        writable: true,\n                        configurable: true\n                    }\n                });\n                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n            }\n\n            var ExtendableServiceError = function(_Error) {\n                _inherits(ExtendableServiceError, _Error);\n\n                function ExtendableServiceError(message) {\n                    _classCallCheck(this, ExtendableServiceError);\n\n                    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ExtendableServiceError).call(this, message));\n\n                    _this.name = _this.constructor.name;\n                    _this.message = message;\n\n                    if (typeof Error.captureStackTrace === 'function') {\n                        Error.captureStackTrace(_this, _this.constructor);\n                    } else {\n                        _this.stack = new Error(message).stack;\n                    }\n                    return _this;\n                }\n\n                _createClass(ExtendableServiceError, [{\n                    key: 'setCallee',\n                    value: function setCallee(callee) {\n                        this.callee = callee;\n                    }\n                }]);\n\n                return ExtendableServiceError;\n            }(Error);\n\n            var ServiceError = function(_ExtendableServiceErr) {\n                _inherits(ServiceError, _ExtendableServiceErr);\n\n                function ServiceError(message) {\n                    _classCallCheck(this, ServiceError);\n\n                    return _possibleConstructorReturn(this, Object.getPrototypeOf(ServiceError).call(this, message));\n                }\n\n                return ServiceError;\n            }(ExtendableServiceError);\n\n            exports.ExtendableServiceError = ExtendableServiceError;\n            exports.ServiceError = ServiceError;\n\n        }, {}],\n        5: [function(require, module, exports) {\n            'use strict';\n\n            var _createClass = function() {\n                function defineProperties(target, props) {\n                    for (var i = 0; i < props.length; i++) {\n                        var descriptor = props[i];\n                        descriptor.enumerable = descriptor.enumerable || false;\n                        descriptor.configurable = true;\n                        if (\"value\" in descriptor) descriptor.writable = true;\n                        Object.defineProperty(target, descriptor.key, descriptor);\n                    }\n                }\n                return function(Constructor, protoProps, staticProps) {\n                    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                    if (staticProps) defineProperties(Constructor, staticProps);\n                    return Constructor;\n                };\n            }();\n\n            function _classCallCheck(instance, Constructor) {\n                if (!(instance instanceof Constructor)) {\n                    throw new TypeError(\"Cannot call a class as a function\");\n                }\n            }\n\n            var equals = require('./utils/equal');\n            var uuid = require('./utils/uuid');\n\n            var Pattern = function() {\n                function Pattern(identifier) {\n                    _classCallCheck(this, Pattern);\n\n                    this.base = identifier;\n                    this.id = uuid();\n                }\n\n                _createClass(Pattern, [{\n                    key: 'match',\n                    value: function match(foreign) {\n                        return equals(this.base, foreign);\n                    }\n                }, {\n                    key: 'signature',\n                    value: function signature() {\n                        var length = this.keys.length;\n\n                        var index = 0;\n                        var id = '';\n\n                        for (var key in this.base) {\n                            id += index === 0 ? '' : '&';\n                            id += key + '=' + this.base[key];\n                            index++;\n                        }\n\n                        id += '@' + this.id.replace(/-/g, '') + '#' + length;\n                        return id;\n                    }\n                }, {\n                    key: 'keys',\n                    get: function get() {\n                        return Object.keys(this.base);\n                    }\n                }]);\n\n                return Pattern;\n            }();\n\n            module.exports = Pattern;\n\n        }, {\n            \"./utils/equal\": 8,\n            \"./utils/uuid\": 14\n        }],\n        6: [function(require, module, exports) {\n            'use strict';\n\n            var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function(obj) {\n                return typeof obj;\n            } : function(obj) {\n                return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n            };\n\n            var _createClass = function() {\n                function defineProperties(target, props) {\n                    for (var i = 0; i < props.length; i++) {\n                        var descriptor = props[i];\n                        descriptor.enumerable = descriptor.enumerable || false;\n                        descriptor.configurable = true;\n                        if (\"value\" in descriptor) descriptor.writable = true;\n                        Object.defineProperty(target, descriptor.key, descriptor);\n                    }\n                }\n                return function(Constructor, protoProps, staticProps) {\n                    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                    if (staticProps) defineProperties(Constructor, staticProps);\n                    return Constructor;\n                };\n            }();\n\n            function _classCallCheck(instance, Constructor) {\n                if (!(instance instanceof Constructor)) {\n                    throw new TypeError(\"Cannot call a class as a function\");\n                }\n            }\n\n            var uuid = require('./utils/uuid');\n            var noop = require('./utils/noop');\n            var debug = require('./utils/debug');\n            var str = require('./utils/stringify');\n            var Errors = require('./utils/errors');\n            var Cache = require('./Cache');\n            var Pattern = require('./Pattern');\n\n            var Service = function() {\n                function Service(options) {\n                    _classCallCheck(this, Service);\n\n                    this.options = options || {};\n                    this.id = options.identifier || uuid();\n                    this.debug = noop;\n\n                    this._internalId = Math.random().toString(36).slice(-12);\n                    this._history = new Cache();\n                    this._cache = new Cache();\n                    this._delegates = [];\n                    this._handlers = [];\n                }\n\n                _createClass(Service, [{\n                    key: 'configure',\n                    value: function configure(options) {\n                        if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n                            for (var key in options) {\n                                this.options[key] = options[key];\n                            }\n                        }\n\n                        this._postConfigHook();\n                    }\n                }, {\n                    key: 'set',\n                    value: function set(key, value) {\n                        this.options[key] = value;\n                        this._postConfigHook();\n                    }\n                }, {\n                    key: 'register',\n                    value: function register(ressource, handler) {\n                        var self = this;\n                        this.debug('Registring new handler for %s', str(ressource));\n\n                        if ((typeof ressource === 'undefined' ? 'undefined' : _typeof(ressource)) !== 'object') {\n                            throw new Errors.RegisterError('Endpoint target must be an object and not type ' + (typeof ressource === 'undefined' ? 'undefined' : _typeof(ressource)));\n                        }\n\n                        var index = this._handlers.push({\n                            pattern: new Pattern(ressource),\n                            handler: handler,\n                            service: self._internalId\n                        });\n\n                        var registry = this._handlers[index - 1];\n                        this._cache.set(registry.pattern.signature(), registry);\n                    }\n                }, {\n                    key: 'act',\n                    value: function act(target, data, resolver) {\n                        var self = this;\n\n                        data = data || {};\n                        resolver = typeof resolver === 'function' ? resolver : noop;\n\n                        if (!target) {\n                            throw new Errors.ActError('No target defined to act event on');\n                        }\n\n                        this.debug('%s for %s with data %s', data.__delegate__ ? 'Delegating Action' : 'Acting', str(target), str(data));\n                        this._history.set(new Pattern(target).signature(), {\n                            data: data,\n                            stamp: Date.now(),\n                            target: target,\n                            resolver: resolver\n                        });\n\n                        this._delegates.forEach(function(delegation) {\n                            if (delegation.pattern.match(target)) {\n                                self.debug('Found delegation for %s', str(target));\n                                delegation.delegate.apply(null, [function(bubbler, delegationData) {\n                                    if ((typeof delegationData === 'undefined' ? 'undefined' : _typeof(delegationData)) !== 'object') {\n                                        delegationData = data;\n                                    } else {\n                                        delegationData.origin = data;\n                                    }\n\n                                    self.debug('Delegate target %s to %s', str(target), str(bubbler));\n                                    delegationData.__delegate__ = target;\n                                    self.act(bubbler, delegationData, resolver);\n                                }]);\n                            }\n                        });\n\n                        this._handlers.forEach(function(factory) {\n                            if (factory.pattern.match(target)) {\n                                factory.handler.apply(null, [data, function(Errors, result) {\n                                    self.debug('Handling factory %s with data %s', str(target), str(data));\n                                    return resolver.apply(null, [Errors, result, function(delegate, delegationData) {\n                                        if ((typeof delegationData === 'undefined' ? 'undefined' : _typeof(delegationData)) !== 'object') {\n                                            delegationData = {};\n                                        }\n\n                                        delegationData.__delegate__ = target;\n                                        delegationData.origin = data;\n                                        self.act(delegate, delegationData);\n                                    }]);\n                                }]);\n                            }\n                        });\n                    }\n                }, {\n                    key: 'delegate',\n                    value: function delegate(ressource, delegation) {\n                        var self = this;\n                        this.debug('Registering delegate for %s', str(ressource));\n\n                        if ((typeof ressource === 'undefined' ? 'undefined' : _typeof(ressource)) !== 'object') {\n                            throw new Errors.DelegationError('Delegation ressource must be an object and not ' + (typeof ressource === 'undefined' ? 'undefined' : _typeof(ressource)));\n                        }\n\n                        if (typeof delegation !== 'function') {\n                            throw new Errors.DelegationError('Delegators need a function to delegate, received ' + (typeof delegation === 'undefined' ? 'undefined' : _typeof(delegation)));\n                        }\n\n                        var index = this._delegates.push({\n                            pattern: new Pattern(ressource),\n                            delegate: delegation,\n                            service: self._internalId\n                        });\n\n                        var registry = this._delegates[index - 1];\n                        this._cache.set(registry.pattern.signature(), registry);\n                    }\n                }, {\n                    key: '_postConfigHook',\n                    value: function _postConfigHook() {\n                        this.debug = debug(this.options.debug);\n                    }\n                }]);\n\n                return Service;\n            }();\n\n            module.exports = Service;\n\n        }, {\n            \"./Cache\": 3,\n            \"./Pattern\": 5,\n            \"./utils/debug\": 7,\n            \"./utils/errors\": 9,\n            \"./utils/noop\": 12,\n            \"./utils/stringify\": 13,\n            \"./utils/uuid\": 14\n        }],\n        7: [function(require, module, exports) {\n            (function(process) {\n                'use strict';\n\n                var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function(obj) {\n                    return typeof obj;\n                } : function(obj) {\n                    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n                };\n\n                var noop = require('./noop');\n\n                module.exports = function(enabled) {\n                    if (enabled) {\n                        if ((typeof console === 'undefined' ? 'undefined' : _typeof(console)) !== undefined) {\n                            if (typeof console.debug === 'function') {\n                                return console.debug.bind(console);\n                            } else if (typeof console.log === 'function') {\n                                return console.log.bind(console);\n                            } else if (process && typeof process.stdout.write === 'function') {\n                                return process.stdout.write.bind(process);\n                            }\n                        }\n                    }\n\n                    return noop;\n                };\n\n            }).call(this, require('_process'))\n        }, {\n            \"./noop\": 12,\n            \"_process\": 2\n        }],\n        8: [function(require, module, exports) {\n            'use strict';\n\n            var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function(obj) {\n                return typeof obj;\n            } : function(obj) {\n                return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n            };\n\n            var pSlice = Array.prototype.slice;\n            var objectKeys = require('./keys');\n            var isArguments = require('./isArguments');\n\n            var deepEqual = module.exports = function(actual, expected, opts) {\n                opts = opts || {};\n\n                // 7.1. All identical values are equivalent, as determined by ===.\n                if (actual === expected) {\n                    return true;\n                } else if (actual instanceof Date && expected instanceof Date) {\n                    return actual.getTime() === expected.getTime();\n\n                    // 7.3. Other pairs that do not both pass typeof value == 'object',\n                    // equivalence is determined by ==.\n                } else if (!actual || !expected || (typeof actual === 'undefined' ? 'undefined' : _typeof(actual)) != 'object' && (typeof expected === 'undefined' ? 'undefined' : _typeof(expected)) != 'object') {\n                    return opts.strict ? actual === expected : actual == expected;\n\n                    // 7.4. For all other Object pairs, including Array objects, equivalence is\n                    // determined by having the same number of owned properties (as verified\n                    // with Object.prototype.hasOwnProperty.call), the same set of keys\n                    // (although not necessarily the same order), equivalent values for every\n                    // corresponding key, and an identical 'prototype' property. Note: this\n                    // accounts for both named and indexed properties on Arrays.\n                } else {\n                    return objEquiv(actual, expected, opts);\n                }\n            };\n\n            function isUndefinedOrNull(value) {\n                return value === null || value === undefined;\n            }\n\n            function isBuffer(x) {\n                if (!x || (typeof x === 'undefined' ? 'undefined' : _typeof(x)) !== 'object' || typeof x.length !== 'number') {\n                    return false;\n                }\n\n                if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n                    return false;\n                }\n\n                if (x.length > 0 && typeof x[0] !== 'number') {\n                    return false;\n                }\n\n                return true;\n            }\n\n            function objEquiv(a, b, opts) {\n                var i = void 0,\n                    key = void 0,\n                    ka = void 0,\n                    kb = void 0;\n\n                if (isUndefinedOrNull(a) || isUndefinedOrNull(b)) {\n                    return false;\n                }\n\n                if (a.prototype !== b.prototype) {\n                    return false;\n                }\n\n                if (isArguments(a)) {\n                    if (!isArguments(b)) {\n                        return false;\n                    }\n\n                    a = pSlice.call(a);\n                    b = pSlice.call(b);\n\n                    return deepEqual(a, b, opts);\n                }\n                if (isBuffer(a)) {\n                    if (!isBuffer(b)) {\n                        return false;\n                    }\n\n                    if (a.length !== b.length) {\n                        return false;\n                    }\n\n                    for (i = 0; i < a.length; i++) {\n                        if (a[i] !== b[i]) {\n                            return false;\n                        }\n                    }\n\n                    return true;\n                }\n                try {\n                    ka = objectKeys(a);\n                    kb = objectKeys(b);\n                } catch (err) {\n                    // happens when one is a string literal and the other isn't\n                    return false;\n                }\n                // having the same number of owned properties (keys incorporates\n                // hasOwnProperty)\n                if (ka.length != kb.length) {\n                    return false;\n                }\n\n                // the same set of keys (although not necessarily the same order),\n                ka.sort();\n                kb.sort();\n\n                for (i = ka.length - 1; i >= 0; i--) {\n                    if (ka[i] != kb[i]) {\n                        return false;\n                    }\n                }\n\n                // equivalent values for every corresponding key\n                for (i = ka.length - 1; i >= 0; i--) {\n                    key = ka[i];\n\n                    if (!deepEqual(a[key], b[key], opts)) {\n                        return false;\n                    }\n                }\n\n                return (typeof a === 'undefined' ? 'undefined' : _typeof(a)) === (typeof b === 'undefined' ? 'undefined' : _typeof(b));\n            }\n\n        }, {\n            \"./isArguments\": 10,\n            \"./keys\": 11\n        }],\n        9: [function(require, module, exports) {\n            'use strict';\n\n            function _classCallCheck(instance, Constructor) {\n                if (!(instance instanceof Constructor)) {\n                    throw new TypeError(\"Cannot call a class as a function\");\n                }\n            }\n\n            function _possibleConstructorReturn(self, call) {\n                if (!self) {\n                    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n                }\n                return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n            }\n\n            function _inherits(subClass, superClass) {\n                if (typeof superClass !== \"function\" && superClass !== null) {\n                    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n                }\n                subClass.prototype = Object.create(superClass && superClass.prototype, {\n                    constructor: {\n                        value: subClass,\n                        enumerable: false,\n                        writable: true,\n                        configurable: true\n                    }\n                });\n                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n            }\n\n            var ExtendableServiceError = require('../Error').ExtendableServiceError;\n\n            var DelegationError = function(_ExtendableServiceErr) {\n                _inherits(DelegationError, _ExtendableServiceErr);\n\n                function DelegationError(message) {\n                    _classCallCheck(this, DelegationError);\n\n                    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(DelegationError).call(this, message));\n\n                    _this.name = 'DelegationError';\n                    _this.callee = 'Service.delegate';\n                    return _this;\n                }\n\n                return DelegationError;\n            }(ExtendableServiceError);\n\n            var ActError = function(_ExtendableServiceErr2) {\n                _inherits(ActError, _ExtendableServiceErr2);\n\n                function ActError(message) {\n                    _classCallCheck(this, ActError);\n\n                    var _this2 = _possibleConstructorReturn(this, Object.getPrototypeOf(ActError).call(this, message));\n\n                    _this2.name = 'ActError';\n                    _this2.callee = 'Service.act';\n                    return _this2;\n                }\n\n                return ActError;\n            }(ExtendableServiceError);\n\n            var RegisterError = function(_ExtendableServiceErr3) {\n                _inherits(RegisterError, _ExtendableServiceErr3);\n\n                function RegisterError(message) {\n                    _classCallCheck(this, RegisterError);\n\n                    var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(RegisterError).call(this, message));\n\n                    _this3.name = 'RegisterError';\n                    _this3.callee = 'Service.register';\n                    return _this3;\n                }\n\n                return RegisterError;\n            }(ExtendableServiceError);\n\n            exports.DelegationError = DelegationError;\n            exports.ActError = ActError;\n            exports.RegisterError = RegisterError;\n\n        }, {\n            \"../Error\": 4\n        }],\n        10: [function(require, module, exports) {\n            'use strict';\n\n            var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function(obj) {\n                return typeof obj;\n            } : function(obj) {\n                return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n            };\n\n            var supportsArgumentsClass = function(undefined) {\n                return Object.prototype.toString.call(arguments);\n            }() == '[object Arguments]';\n\n            module.exports = supportsArgumentsClass ? supported : unsupported;\n\n            exports.supported = supported;\n\n            function supported(object) {\n                return Object.prototype.toString.call(object) == '[object Arguments]';\n            };\n\n            exports.unsupported = unsupported;\n\n            function unsupported(object) {\n                return object && (typeof object === 'undefined' ? 'undefined' : _typeof(object)) == 'object' && typeof object.length == 'number' && Object.prototype.hasOwnProperty.call(object, 'callee') && !Object.prototype.propertyIsEnumerable.call(object, 'callee') || false;\n            };\n\n        }, {}],\n        11: [function(require, module, exports) {\n            'use strict';\n\n            exports = module.exports = function(undefined) {\n                if (typeof Object.keys === 'function') {\n                    return Object.keys;\n                }\n\n                return shim;\n            }();\n\n            exports.shim = shim;\n\n            function shim(obj) {\n                var keys = [];\n\n                for (var key in obj) {\n                    keys.push(key);\n                }\n\n                return keys;\n            }\n\n        }, {}],\n        12: [function(require, module, exports) {\n            \"use strict\";\n\n            module.exports = function() { /* non operational method */ };\n\n        }, {}],\n        13: [function(require, module, exports) {\n            'use strict';\n\n            module.exports = function(input) {\n                if (typeof input === 'string') {\n                    return input;\n                } else if (Array.isArray(input)) {\n                    return input.join(', ');\n                } else if (input.toISOString !== undefined) {\n                    return input.toISOString();\n                }\n\n                return JSON.stringify(input);\n            };\n\n        }, {}],\n        14: [function(require, module, exports) {\n            'use strict';\n\n            var guidBlock = function guidBlock() {\n                return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n            };\n\n            module.exports = function guid() {\n                return guidBlock() + guidBlock() + '-' + guidBlock() + '-' + guidBlock() + '-' + guidBlock() + '-' + guidBlock() + guidBlock() + guidBlock();\n            };\n\n        }, {}]\n    }, {}, [1])(1)\n});\n\n"],"sourceRoot":"/source/"}